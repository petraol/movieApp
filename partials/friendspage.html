<!--FRIENSPROFILE-->
<div class="container">
	<ng-include src="'partials/header.html'" ng-controller="headerCtrl"></ng-include>

	<div class="col-sm-12"
	style="margin-top: 50px; text-align: left; font-size: 15pt;">
		<div class="col-sm-4">
			<img ng-src="{{image()}}" id="profilepic"
			style="height:200px; width:200px; display:block; margin:auto;">
		</div>
		<div class="col-sm-4">
			<h3>Namnet {{name()}}</h3></br>
			<b>Favoritsnacks: </b>{{snack()}}
		</div>
		<div class="col-sm-4" id="myMovieList" ondrop="drop(event)" ondragover="allowDrop(event)">
			<img src="graphics/popcorn-icon.png" id="movieList"
			style="opacity: 0.5; height:140px; width:120px; margin-top: 5%; margin-left: 40%;">
		</div>
	</div>

	<div id="movieList" class="col-sm-12" style="text-align: left; font-size: 15pt; margin-top: 50px;">
		<div style="margin-top:20px; margin-bottom:50px;">
			<div style="list-style-type:none"
			ng-repeat="movie in list" class="col-sm-2">
			<img src="https://image.tmdb.org/t/p/w1280{{movie.poster_path}}"
			id="the_movie" height="210px" width="140px" draggable="true" ondragstart="drag(event)">
			<div ng-click="check(movie.id)"
			style="{{dict[movie.id]}}; text-align: center;">
			{{movie.title}}<br/></div>
			</div>
		</div>
	</div>
</div>

<script>
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("movie", ev.target.id);
}

function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("movie");
    ev.target.appendChild(document.getElementById(data));
}
</script>

<!--

<script>

  var eat = ['yum!', 'gulp', 'burp!', 'nom'];
  var yum = document.createElement('p');
  var msie = /*@cc_on!@*/0;
  yum.style.opacity = 1;

  var links = document.querySelectorAll('li > a'), el = null;
  for (var i = 0; i < links.length; i++) {
    el = links[i];

    el.setAttribute('draggable', 'true');

    addEvent(el, 'dragstart', function (e) {
      e.dataTransfer.effectAllowed = 'copy'; // only dropEffect='copy' will be dropable
      e.dataTransfer.setData('Text', this.id); // required otherwise doesn't work
    });
  }

  var bin = document.querySelector('#bin');

  addEvent(bin, 'dragover', function (e) {
    if (e.preventDefault) e.preventDefault(); // allows us to drop
    this.className = 'over';
    e.dataTransfer.dropEffect = 'copy';
    return false;
  });

  // to get IE to work
  addEvent(bin, 'dragenter', function (e) {
    this.className = 'over';
    return false;
  });

  addEvent(bin, 'dragleave', function () {
    this.className = '';
  });

  addEvent(bin, 'drop', function (e) {
    if (e.stopPropagation) e.stopPropagation(); // stops the browser from redirecting...why???

    var el = document.getElementById(e.dataTransfer.getData('Text'));

    el.parentNode.removeChild(el);

    // stupid nom text + fade effect
    bin.className = '';
    yum.innerHTML = eat[parseInt(Math.random() * eat.length)];

    var y = yum.cloneNode(true);
    bin.appendChild(y);

    setTimeout(function () {
      var t = setInterval(function () {
        if (y.style.opacity <= 0) {
          if (msie) { // don't bother with the animation
            y.style.display = 'none';
          }
          clearInterval(t);
        } else {
          y.style.opacity -= 0.1;
        }
      }, 50);
    }, 250);

    return false;
  });

  </script>
